openrpc: 1.2.4
info:
  title: Flashbots JSON-RPC API
  version: 1.0.0
  description: >-
    This section provides an interactive reference for Flashbots
    JSON-RPC API endpoint. The API builds on a set of standard Ethereum methods with
    Flashbots-specific enhancements, and is designed for seamless integration
    into dapps.
servers:
  - url: https://rpc-staging.flashbots.net
  - url: https://rpc-sepolia.flashbots.net
  - url: https://rpc-sepolia.flashbots.net/fast
  - url: https://rpc-staging.flashbots.net/fast
methods:
  - name: eth_sendBundle
    description: Send bundles to Flashbots builder for inclusion in a block.
    tags:
      - $ref: "#/components/tags/Flashbots"
      - $ref: "#/components/tags/MEV-Share"
    params:
      - name: bundle
        description: The bundle parameters
        required: true
        schema:
          type: object
          required:
            - txs
            - blockNumber
          properties:
            txs:
              type: array
              items:
                type: string
                # TODO: add pattern or ref to spec
              description: A list of signed transactions to execute in an atomic bundle
            blockNumber:
              type: string
              description: A hex encoded block number for which this bundle is valid on
                # TODO: add pattern
            # Optional fields
            replacementUuid:
              type: string
              description: UUID that can be used to cancel/replace this bundle
            # replacementNonce:
            #   type: string
            #   description: Used to order bundles sharing the same replacementUuid. Bundles received with a lower replacementNonce than the latest accepted one are ignored.
            minTimestamp:
              type: number
              description: The minimum timestamp for which this bundle is valid, in seconds since the unix epoch
            maxTimestamp:
              type: number
              description: The maximum timestamp for which this bundle is valid, in seconds since the unix epoch
            revertingTxHashes:
              type: array
              items:
                type: string
              description: A list of tx hashes that are allowed to revert
            builders:
              type: array
              items:
                type: string
              description: A list of registered block builder names to share the bundle with
    result:
      description: The bundle hash and optional smart field
      name: sendBundleResult
      schema:
        type: object
        properties:
          bundleHash:
            type: string
            description: The hash of the submitted bundle
          smart:
            type: boolean
            description: Present when builders are specified
    examples:
      - name: sendBundleExample
        description: Send a simple bundle to the builder
        params:
          - name: bundle
            value:
              txs:
                - "0x123abc..."
                - "0x456def..."
              blockNumber: "0xb63dcd"
              minTimestamp: 0
              maxTimestamp: 1615920932
        result:
          name: bundleResult
          value:
            bundleHash: "0x2228f5d8954ce31dc1601a8ba264dbd401bf1428388ce88238932815c5d6f23f"

components:
  tags:
    Flashbots:
      name: Flashbots
      description: Flashbots specific method
    MEV-Share:
      name: MEV-Share
      description: MEV-Share specific method
